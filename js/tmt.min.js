!function(l){Spreedly.on("ready",function(e){Spreedly.setFieldType("text"),Spreedly.setNumberFormat("prettyFormat"),Spreedly.setStyle("number",tmt_data.ccCss),Spreedly.setStyle("cvv",tmt_data.cvvCss)}),Spreedly.on("paymentMethod",function(e,t){l("#payment_method_token").val(e),l("form.checkout").submit()}),Spreedly.on("errors",function(e){for(var t="",o=e.length,r=0;r<o;r++){t+="<li>"+e[r].message+"</li>"}var n=l("form.checkout");l(".woocommerce-error").remove(),n.unblock(),n.prepend('<ul class="woocommerce-error">'+t+"</ul>"),l("html, body").animate({scrollTop:n.offset().top-100},2e3)}),l(function(){l("form.checkout").on("checkout_place_order_tmt",function(){if(l(".woocommerce-error").remove(),"nosubmit"!==l("#tmt-alternate_payment").val())return function(){var e=l("form.checkout");if(l("#payment_method_tmt").is(":checked")&&""===l("input#payment_method_token").val()){e.block({message:null,overlayCSS:{background:"#fff",opacity:.6}});var t={first_name:e.find("#billing_first_name").val(),last_name:e.find("#billing_last_name").val(),month:e.find("#expmonth").val(),year:e.find("#expyear").val(),address1:e.find("#billing_address_1").val(),address2:e.find("#billing_address_2").val(),city:e.find("#billing_city").val(),state:e.find("#billing_state").val(),zip:e.find("#billing_postcode").val(),country:e.find("#billing_country").val()};return Spreedly.tokenizeCreditCard(t),!1}return!0}();var e=l("form.checkout");return e.prepend('<ul class="woocommerce-error"><li>You must select a payment currency</li></ul>'),l("html, body").animate({scrollTop:e.offset().top-100},2e3),!1}),l(document.body).on("checkout_error",function(){l("input#payment_method_token").val("")})})}(jQuery);